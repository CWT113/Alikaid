# 基本使用

## 子调用父的方法

### props 传递

::: code-group

```vue [App.vue]
<template>
  <HelloWorld @method="print" />
</template>

<script setup lang="ts">
  import HelloWorld from "./components/HelloWorld.vue";

  const print = (data: number) => console.log(data);
</script>
```

```vue [HelloWorld.vue]
<template>
  <button type="button" @click="handleClick">handleClick</button>
</template>

<script setup lang="ts">
  const { method } = defineProps<{ method: Function }>();

  // 直接传递参数,父组件接收到会打印
  const handleClick = () => method && method(200);
</script>
```

:::



### emit 传递

::: code-group

```vue [App.vue]
<template>
  <HelloWorld @method="print" />
</template>

<script setup lang="ts">
  import HelloWorld from "./components/HelloWorld.vue";

  const print = (data: number) => console.log(data);
</script>
```

```vue [HelloWorld.vue]
<template>
  <button type="button" @click="handleClick">handleClick</button>
</template>

<script setup lang="ts">
  const emit = defineEmits(["method"]);

  // emit 触发父组件的事件,并携带参数 200
  const handleClick = () => emit("method", 200);
</script>
```

:::



### defineModel 传递

`defineModel` 宏的主要用途是实现表单类元素的双向数据绑定，但是它也可以用来向子组件传递 属性或方法。

::: code-group

```vue [App.vue]
<template>
  <HelloWorld v-model="handleClick" />
</template>

<script setup lang="ts">
  import HelloWorld from "./components/HelloWorld.vue";

  const handleClick = (data: number) => console.log(data);
</script>
```

```vue [HelloWorld.vue]
<template>
  <h5>{{ model }}</h5>
</template>

<script setup lang="ts">
  // defineModel() 的返回值实际是一个 ref 对象，因此需要 .value，但总觉得有点儿奇怪，ref 能当函数调用???
  const model: any = defineModel();
  model.value(200);
</script>
```

:::
